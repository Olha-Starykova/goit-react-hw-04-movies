{"version":3,"sources":["views/MoviesPage.js"],"names":["MoviesPage","state","lists","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","history","props","axios","get","then","response","data","results","push","pathname","location","search","this","onSubmit","type","onChange","map","list","to","id","from","title","Component"],"mappings":"0NAMMA,E,4MACFC,MAAQ,CACJC,MAAO,GACPC,MAAO,I,EAIXC,aAAe,SAACC,GACT,EAAKC,SAAS,CAACH,MAAOE,EAAEE,cAAcC,S,EAG7CC,aAAe,SAACJ,GACZA,EAAEK,iBADgB,IAEVP,EAAU,EAAKF,MAAfE,MACAQ,EAAY,EAAKC,MAAjBD,QACRE,IAAMC,IAAN,mGAAsGX,IACjGY,MAAK,SAAAC,GAEN,EAAKV,SAAS,CAAEJ,MAAOc,EAASC,KAAKC,QAASf,MAAO,QAEvDY,KACFJ,EAAQQ,KAAK,CACXC,SAAU,EAAKR,MAAMS,SAASD,SAC9BE,OAAO,SAAD,OAAWnB,O,4CAM1B,WAAU,IAAD,OAEaoB,KAAKtB,MAAfE,MAER,OACI,qCAEI,uBAAMqB,SAAUD,KAAKd,aAArB,UACI,uBAAOgB,KAAK,OAAOjB,MAAOe,KAAKtB,MAAME,MAAOuB,SAAUH,KAAKnB,eAC3D,wBAAQqB,KAAK,SAAb,qDAEJ,6BACKF,KAAKtB,MAAMC,MAAMyB,KAAI,SAACC,GAAD,OACrB,6BACG,cAAC,IAAD,CAAMC,GAAI,CACNT,SAAS,WAAD,OAAaQ,EAAKE,IAC1B7B,MAAO,CAAE8B,KAAM,EAAKnB,MAAMS,WAF9B,SAIKO,EAAKI,SALJJ,EAAKE,gB,GA1CPG,aA0DVjC","file":"static/js/movies-page.9aa5b1f9.chunk.js","sourcesContent":["//import React from 'react';\r\nimport React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass MoviesPage extends Component  {\r\n    state = {\r\n        lists: [],\r\n        query: '',\r\n    }\r\n  \r\n    \r\n    handleChange = (e) => {\r\n           this.setState({query: e.currentTarget.value})\r\n    }\r\n    \r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const { query } = this.state;\r\n        const { history } = this.props;\r\n        axios.get(`https://api.themoviedb.org/3/search/movie?api_key=8d4e0a5a0c37d4780eefdf617d0feea1&query=${query}`)\r\n            .then(response => {\r\n            //  console.log(response.data.results)\r\n            this.setState({ lists: response.data.results, query: '' })\r\n            })\r\n         .then(\r\n        history.push({\r\n          pathname: this.props.location.pathname,\r\n          search: `query=${query}`,\r\n        }),\r\n        );\r\n    };\r\n\r\n      \r\n render() {\r\n        \r\n     const { query } = this.state;\r\n     \r\n     return (\r\n         <>\r\n                             \r\n             <form onSubmit={this.handleSubmit}>\r\n                 <input type=\"text\" value={this.state.query} onChange={this.handleChange} />\r\n                 <button type=\"submit\">Искать</button>\r\n             </form>\r\n             <ul>\r\n                 {this.state.lists.map((list) =>\r\n                 (<li key={list.id} >\r\n                     <Link to={{\r\n                         pathname: `/movies/${list.id}`,\r\n                         state: { from: this.props.location },\r\n                     }} >\r\n                         {list.title}\r\n                     </Link>\r\n                 </li>))}\r\n \r\n             </ul>\r\n         </>\r\n     );\r\n    };\r\n };\r\n\r\n\r\nexport default MoviesPage;\r\n\r\n\r\n"],"sourceRoot":""}